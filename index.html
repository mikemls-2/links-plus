<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Directorio de Grupos | Inicio</title>
    <meta name="description" content="Directorio global de grupos por categorías y países.">
    <link rel="stylesheet" href="styles.css">
    <style>
        .search-container {
            text-align: center;
            margin: 1rem 0;
        }
        .search-box {
            width: 90%;
            max-width: 400px;
            padding: 0.5rem;
            border: 1px solid #ccc;
            border-radius: 5px;
        }
        .group-list {
            display: grid;
            grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
            gap: 1rem;
            padding: 1rem;
        }
        .group-card {
            border: 1px solid #ddd;
            border-radius: 8px;
            padding: 1rem;
            background: white;
            box-shadow: 0 2px 5px rgba(0,0,0,0.1);
        }
        .ads-container {
            text-align: center;
            margin: 2rem 0;
        }
    </style>
</head>
<body>
    <nav class="navbar">
        <div class="logo">LINKS PLUS</div>
        <ul class="nav-links">
            <li><a href="index.html">Inicio</a></li>
            <li><a href="register.html">Registrar Grupo</a></li>
            <li><a href="panel.html">Panel de Aprobación</a></li>
        </ul>
    </nav>

    <header class="title">
        <div style="padding: 1rem;">
            <h1 style="font-size: 2rem;">Directorio Global de Grupos</h1>
        </div>
    </header>

    <div class="search-container">
        <input type="text" id="searchInput" class="search-box" placeholder="Buscar grupos...">
    </div>

    <div class="ads-container">
        <!-- Aquí puedes pegar el código de publicidad -->
        <p style="color:gray;">Espacio para anuncios</p>
    </div>

    <section class="group-list" id="groupList">
        <!-- Los grupos aprobados se cargarán aquí -->
    </section>

    <script src="scripts.js"></script>
    <script>
        document.addEventListener('DOMContentLoaded', function() {
            const groupList = document.getElementById('groupList');
            const searchInput = document.getElementById('searchInput');

            // Cargar grupos desde localStorage
            let grupos = JSON.parse(localStorage.getItem('gruposAprobados')) || [];

            function mostrarGrupos(lista) {
                groupList.innerHTML = '';
                if (lista.length === 0) {
                    groupList.innerHTML = '<p>No se encontraron grupos.</p>';
                    return;
                }
                lista.forEach(g => {
                    const div = document.createElement('div');
                    div.className = 'group-card';
                    div.innerHTML = `
                        <h3>${g.nombre}</h3>
                        <p>${g.descripcion}</p>
                        <a href="${g.enlace}" target="_blank">Unirse</a>
                    `;
                    groupList.appendChild(div);
                });
            }

            searchInput.addEventListener('input', function() {
                const texto = this.value.toLowerCase();
                const filtrados = grupos.filter(g => 
                    g.nombre.toLowerCase().includes(texto) ||
                    g.descripcion.toLowerCase().includes(texto)
                );
                mostrarGrupos(filtrados);
            });

            mostrarGrupos(grupos);
        });
    </script>
</body>
</html>
